using System;
using System.Collections.Generic;
using System.Diagnostics;
using System.Text;

namespace coolRAT.Libs
{
    public static class ByteSerializer
    {
        public static Dictionary<byte, char> ByteCharMap = new Dictionary<byte, char>()
        {
            { (byte)0, 'ᬀ' },
            { (byte)1, 'ᬁ' },
            { (byte)2, 'ᬂ' },
            { (byte)3, 'ᬃ' },
            { (byte)4, 'ᬄ' },
            { (byte)5, 'ᬅ' },
            { (byte)6, 'ᬆ' },
            { (byte)7, 'ᬇ' },
            { (byte)8, 'ᬈ' },
            { (byte)9, 'ᬉ' },
            { (byte)10, 'ᬊ' },
            { (byte)11, 'ᬋ' },
            { (byte)12, 'ᬌ' },
            { (byte)13, 'ᬍ' },
            { (byte)14, 'ᬎ' },
            { (byte)15, 'ᬏ' },
            { (byte)16, 'ᬐ' },
            { (byte)17, 'ᬑ' },
            { (byte)18, 'ᬒ' },
            { (byte)19, 'ᬓ' },
            { (byte)20, 'ᬔ' },
            { (byte)21, 'ᬕ' },
            { (byte)22, 'ᬖ' },
            { (byte)23, 'ᬗ' },
            { (byte)24, 'ᬘ' },
            { (byte)25, 'ᬙ' },
            { (byte)26, 'ᬚ' },
            { (byte)27, 'ᬛ' },
            { (byte)28, 'ᬜ' },
            { (byte)29, 'ᬝ' },
            { (byte)30, 'ᬞ' },
            { (byte)31, 'ᬟ' },
            { (byte)32, 'ᬠ' },
            { (byte)33, 'ᬡ' },
            { (byte)34, 'ᬢ' },
            { (byte)35, 'ᬣ' },
            { (byte)36, 'ᬤ' },
            { (byte)37, 'ᬥ' },
            { (byte)38, 'ᬦ' },
            { (byte)39, 'ᬧ' },
            { (byte)40, 'ᬨ' },
            { (byte)41, 'ᬩ' },
            { (byte)42, 'ᬪ' },
            { (byte)43, 'ᬫ' },
            { (byte)44, 'ᬬ' },
            { (byte)45, 'ᬭ' },
            { (byte)46, 'ᬮ' },
            { (byte)47, 'ᬯ' },
            { (byte)48, 'ᬰ' },
            { (byte)49, 'ᬱ' },
            { (byte)50, 'ᬲ' },
            { (byte)51, 'ᬳ' },
            { (byte)52, '᬴' },
            { (byte)53, 'ᬵ' },
            { (byte)54, 'ᬶ' },
            { (byte)55, 'ᬷ' },
            { (byte)56, 'ᬸ' },
            { (byte)57, 'ᬹ' },
            { (byte)58, 'ᬺ' },
            { (byte)59, 'ᬻ' },
            { (byte)60, 'ᬼ' },
            { (byte)61, 'ᬽ' },
            { (byte)62, 'ᬾ' },
            { (byte)63, 'ᬿ' },
            { (byte)64, 'ᭀ' },
            { (byte)65, 'ᭁ' },
            { (byte)66, 'ᭂ' },
            { (byte)67, 'ᭃ' },
            { (byte)68, '᭄' },
            { (byte)69, 'ᭅ' },
            { (byte)70, 'ᭆ' },
            { (byte)71, 'ᭇ' },
            { (byte)72, 'ᭈ' },
            { (byte)73, 'ᭉ' },
            { (byte)74, 'ᭊ' },
            { (byte)75, 'ᭋ' },
            { (byte)76, 'ᭌ' },
            { (byte)77, '᭍' },
            { (byte)78, '᭎' },
            { (byte)79, '᭏' },
            { (byte)80, '᭐' },
            { (byte)81, '᭑' },
            { (byte)82, '᭒' },
            { (byte)83, '᭓' },
            { (byte)84, '᭔' },
            { (byte)85, '᭕' },
            { (byte)86, '᭖' },
            { (byte)87, '᭗' },
            { (byte)88, '᭘' },
            { (byte)89, '᭙' },
            { (byte)90, '᭚' },
            { (byte)91, '᭛' },
            { (byte)92, '᭜' },
            { (byte)93, '᭝' },
            { (byte)94, '᭞' },
            { (byte)95, '᭟' },
            { (byte)96, '᭠' },
            { (byte)97, '᭡' },
            { (byte)98, '᭢' },
            { (byte)99, '᭣' },
            { (byte)100, '᭤' },
            { (byte)101, '᭥' },
            { (byte)102, '᭦' },
            { (byte)103, '᭧' },
            { (byte)104, '᭨' },
            { (byte)105, '᭩' },
            { (byte)106, '᭪' },
            { (byte)107, '᭫' },
            { (byte)108, '᭬' },
            { (byte)109, '᭭' },
            { (byte)110, '᭮' },
            { (byte)111, '᭯' },
            { (byte)112, '᭰' },
            { (byte)113, '᭱' },
            { (byte)114, '᭲' },
            { (byte)115, '᭳' },
            { (byte)116, '᭴' },
            { (byte)117, '᭵' },
            { (byte)118, '᭶' },
            { (byte)119, '᭷' },
            { (byte)120, '᭸' },
            { (byte)121, '᭹' },
            { (byte)122, '᭺' },
            { (byte)123, '᭻' },
            { (byte)124, '᭼' },
            { (byte)125, '᭽' },
            { (byte)126, '᭾' },
            { (byte)127, '᭿' },
            { (byte)128, 'ᮀ' },
            { (byte)129, 'ᮁ' },
            { (byte)130, 'ᮂ' },
            { (byte)131, 'ᮃ' },
            { (byte)132, 'ᮄ' },
            { (byte)133, 'ᮅ' },
            { (byte)134, 'ᮆ' },
            { (byte)135, 'ᮇ' },
            { (byte)136, 'ᮈ' },
            { (byte)137, 'ᮉ' },
            { (byte)138, 'ᮊ' },
            { (byte)139, 'ᮋ' },
            { (byte)140, 'ᮌ' },
            { (byte)141, 'ᮍ' },
            { (byte)142, 'ᮎ' },
            { (byte)143, 'ᮏ' },
            { (byte)144, 'ᮐ' },
            { (byte)145, 'ᮑ' },
            { (byte)146, 'ᮒ' },
            { (byte)147, 'ᮓ' },
            { (byte)148, 'ᮔ' },
            { (byte)149, 'ᮕ' },
            { (byte)150, 'ᮖ' },
            { (byte)151, 'ᮗ' },
            { (byte)152, 'ᮘ' },
            { (byte)153, 'ᮙ' },
            { (byte)154, 'ᮚ' },
            { (byte)155, 'ᮛ' },
            { (byte)156, 'ᮜ' },
            { (byte)157, 'ᮝ' },
            { (byte)158, 'ᮞ' },
            { (byte)159, 'ᮟ' },
            { (byte)160, 'ᮠ' },
            { (byte)161, 'ᮡ' },
            { (byte)162, 'ᮢ' },
            { (byte)163, 'ᮣ' },
            { (byte)164, 'ᮤ' },
            { (byte)165, 'ᮥ' },
            { (byte)166, 'ᮦ' },
            { (byte)167, 'ᮧ' },
            { (byte)168, 'ᮨ' },
            { (byte)169, 'ᮩ' },
            { (byte)170, '᮪' },
            { (byte)171, '᮫' },
            { (byte)172, 'ᮬ' },
            { (byte)173, 'ᮭ' },
            { (byte)174, 'ᮮ' },
            { (byte)175, 'ᮯ' },
            { (byte)176, '᮰' },
            { (byte)177, '᮱' },
            { (byte)178, '᮲' },
            { (byte)179, '᮳' },
            { (byte)180, '᮴' },
            { (byte)181, '᮵' },
            { (byte)182, '᮶' },
            { (byte)183, '᮷' },
            { (byte)184, '᮸' },
            { (byte)185, '᮹' },
            { (byte)186, 'ᮺ' },
            { (byte)187, 'ᮻ' },
            { (byte)188, 'ᮼ' },
            { (byte)189, 'ᮽ' },
            { (byte)190, 'ᮾ' },
            { (byte)191, 'ᮿ' },
            { (byte)192, 'ᯀ' },
            { (byte)193, 'ᯁ' },
            { (byte)194, 'ᯂ' },
            { (byte)195, 'ᯃ' },
            { (byte)196, 'ᯄ' },
            { (byte)197, 'ᯅ' },
            { (byte)198, 'ᯆ' },
            { (byte)199, 'ᯇ' },
            { (byte)200, 'ᯈ' },
            { (byte)201, 'ᯉ' },
            { (byte)202, 'ᯊ' },
            { (byte)203, 'ᯋ' },
            { (byte)204, 'ᯌ' },
            { (byte)205, 'ᯍ' },
            { (byte)206, 'ᯎ' },
            { (byte)207, 'ᯏ' },
            { (byte)208, 'ᯐ' },
            { (byte)209, 'ᯑ' },
            { (byte)210, 'ᯒ' },
            { (byte)211, 'ᯓ' },
            { (byte)212, 'ᯔ' },
            { (byte)213, 'ᯕ' },
            { (byte)214, 'ᯖ' },
            { (byte)215, 'ᯗ' },
            { (byte)216, 'ᯘ' },
            { (byte)217, 'ᯙ' },
            { (byte)218, 'ᯚ' },
            { (byte)219, 'ᯛ' },
            { (byte)220, 'ᯜ' },
            { (byte)221, 'ᯝ' },
            { (byte)222, 'ᯞ' },
            { (byte)223, 'ᯟ' },
            { (byte)224, 'ᯠ' },
            { (byte)225, 'ᯡ' },
            { (byte)226, 'ᯢ' },
            { (byte)227, 'ᯣ' },
            { (byte)228, 'ᯤ' },
            { (byte)229, 'ᯥ' },
            { (byte)230, '᯦' },
            { (byte)231, 'ᯧ' },
            { (byte)232, 'ᯨ' },
            { (byte)233, 'ᯩ' },
            { (byte)234, 'ᯪ' },
            { (byte)235, 'ᯫ' },
            { (byte)236, 'ᯬ' },
            { (byte)237, 'ᯭ' },
            { (byte)238, 'ᯮ' },
            { (byte)239, 'ᯯ' },
            { (byte)240, 'ᯰ' },
            { (byte)241, 'ᯱ' },
            { (byte)242, '᯲' },
            { (byte)243, '᯳' },
            { (byte)244, '᯴' },
            { (byte)245, '᯵' },
            { (byte)246, '᯶' },
            { (byte)247, '᯷' },
            { (byte)248, '᯸' },
            { (byte)249, '᯹' },
            { (byte)250, '᯺' },
            { (byte)251, '᯻' },
            { (byte)252, '᯼' },
            { (byte)253, '᯽' },
            { (byte)254, '᯾' },
            { (byte)255, '᯿' }
        };

        public static Dictionary<char, byte> CharByteMap = new Dictionary<char, byte>()
        {
            { 'ᬀ', (byte)0 },
            { 'ᬁ', (byte)1 },
            { 'ᬂ', (byte)2 },
            { 'ᬃ', (byte)3 },
            { 'ᬄ', (byte)4 },
            { 'ᬅ', (byte)5 },
            { 'ᬆ', (byte)6 },
            { 'ᬇ', (byte)7 },
            { 'ᬈ', (byte)8 },
            { 'ᬉ', (byte)9 },
            { 'ᬊ', (byte)10 },
            { 'ᬋ', (byte)11 },
            { 'ᬌ', (byte)12 },
            { 'ᬍ', (byte)13 },
            { 'ᬎ', (byte)14 },
            { 'ᬏ', (byte)15 },
            { 'ᬐ', (byte)16 },
            { 'ᬑ', (byte)17 },
            { 'ᬒ', (byte)18 },
            { 'ᬓ', (byte)19 },
            { 'ᬔ', (byte)20 },
            { 'ᬕ', (byte)21 },
            { 'ᬖ', (byte)22 },
            { 'ᬗ', (byte)23 },
            { 'ᬘ', (byte)24 },
            { 'ᬙ', (byte)25 },
            { 'ᬚ', (byte)26 },
            { 'ᬛ', (byte)27 },
            { 'ᬜ', (byte)28 },
            { 'ᬝ', (byte)29 },
            { 'ᬞ', (byte)30 },
            { 'ᬟ', (byte)31 },
            { 'ᬠ', (byte)32 },
            { 'ᬡ', (byte)33 },
            { 'ᬢ', (byte)34 },
            { 'ᬣ', (byte)35 },
            { 'ᬤ', (byte)36 },
            { 'ᬥ', (byte)37 },
            { 'ᬦ', (byte)38 },
            { 'ᬧ', (byte)39 },
            { 'ᬨ', (byte)40 },
            { 'ᬩ', (byte)41 },
            { 'ᬪ', (byte)42 },
            { 'ᬫ', (byte)43 },
            { 'ᬬ', (byte)44 },
            { 'ᬭ', (byte)45 },
            { 'ᬮ', (byte)46 },
            { 'ᬯ', (byte)47 },
            { 'ᬰ', (byte)48 },
            { 'ᬱ', (byte)49 },
            { 'ᬲ', (byte)50 },
            { 'ᬳ', (byte)51 },
            { '᬴', (byte)52 },
            { 'ᬵ', (byte)53 },
            { 'ᬶ', (byte)54 },
            { 'ᬷ', (byte)55 },
            { 'ᬸ', (byte)56 },
            { 'ᬹ', (byte)57 },
            { 'ᬺ', (byte)58 },
            { 'ᬻ', (byte)59 },
            { 'ᬼ', (byte)60 },
            { 'ᬽ', (byte)61 },
            { 'ᬾ', (byte)62 },
            { 'ᬿ', (byte)63 },
            { 'ᭀ', (byte)64 },
            { 'ᭁ', (byte)65 },
            { 'ᭂ', (byte)66 },
            { 'ᭃ', (byte)67 },
            { '᭄', (byte)68 },
            { 'ᭅ', (byte)69 },
            { 'ᭆ', (byte)70 },
            { 'ᭇ', (byte)71 },
            { 'ᭈ', (byte)72 },
            { 'ᭉ', (byte)73 },
            { 'ᭊ', (byte)74 },
            { 'ᭋ', (byte)75 },
            { 'ᭌ', (byte)76 },
            { '᭍', (byte)77 },
            { '᭎', (byte)78 },
            { '᭏', (byte)79 },
            { '᭐', (byte)80 },
            { '᭑', (byte)81 },
            { '᭒', (byte)82 },
            { '᭓', (byte)83 },
            { '᭔', (byte)84 },
            { '᭕', (byte)85 },
            { '᭖', (byte)86 },
            { '᭗', (byte)87 },
            { '᭘', (byte)88 },
            { '᭙', (byte)89 },
            { '᭚', (byte)90 },
            { '᭛', (byte)91 },
            { '᭜', (byte)92 },
            { '᭝', (byte)93 },
            { '᭞', (byte)94 },
            { '᭟', (byte)95 },
            { '᭠', (byte)96 },
            { '᭡', (byte)97 },
            { '᭢', (byte)98 },
            { '᭣', (byte)99 },
            { '᭤', (byte)100 },
            { '᭥', (byte)101 },
            { '᭦', (byte)102 },
            { '᭧', (byte)103 },
            { '᭨', (byte)104 },
            { '᭩', (byte)105 },
            { '᭪', (byte)106 },
            { '᭫', (byte)107 },
            { '᭬', (byte)108 },
            { '᭭', (byte)109 },
            { '᭮', (byte)110 },
            { '᭯', (byte)111 },
            { '᭰', (byte)112 },
            { '᭱', (byte)113 },
            { '᭲', (byte)114 },
            { '᭳', (byte)115 },
            { '᭴', (byte)116 },
            { '᭵', (byte)117 },
            { '᭶', (byte)118 },
            { '᭷', (byte)119 },
            { '᭸', (byte)120 },
            { '᭹', (byte)121 },
            { '᭺', (byte)122 },
            { '᭻', (byte)123 },
            { '᭼', (byte)124 },
            { '᭽', (byte)125 },
            { '᭾', (byte)126 },
            { '᭿', (byte)127 },
            { 'ᮀ', (byte)128 },
            { 'ᮁ', (byte)129 },
            { 'ᮂ', (byte)130 },
            { 'ᮃ', (byte)131 },
            { 'ᮄ', (byte)132 },
            { 'ᮅ', (byte)133 },
            { 'ᮆ', (byte)134 },
            { 'ᮇ', (byte)135 },
            { 'ᮈ', (byte)136 },
            { 'ᮉ', (byte)137 },
            { 'ᮊ', (byte)138 },
            { 'ᮋ', (byte)139 },
            { 'ᮌ', (byte)140 },
            { 'ᮍ', (byte)141 },
            { 'ᮎ', (byte)142 },
            { 'ᮏ', (byte)143 },
            { 'ᮐ', (byte)144 },
            { 'ᮑ', (byte)145 },
            { 'ᮒ', (byte)146 },
            { 'ᮓ', (byte)147 },
            { 'ᮔ', (byte)148 },
            { 'ᮕ', (byte)149 },
            { 'ᮖ', (byte)150 },
            { 'ᮗ', (byte)151 },
            { 'ᮘ', (byte)152 },
            { 'ᮙ', (byte)153 },
            { 'ᮚ', (byte)154 },
            { 'ᮛ', (byte)155 },
            { 'ᮜ', (byte)156 },
            { 'ᮝ', (byte)157 },
            { 'ᮞ', (byte)158 },
            { 'ᮟ', (byte)159 },
            { 'ᮠ', (byte)160 },
            { 'ᮡ', (byte)161 },
            { 'ᮢ', (byte)162 },
            { 'ᮣ', (byte)163 },
            { 'ᮤ', (byte)164 },
            { 'ᮥ', (byte)165 },
            { 'ᮦ', (byte)166 },
            { 'ᮧ', (byte)167 },
            { 'ᮨ', (byte)168 },
            { 'ᮩ', (byte)169 },
            { '᮪', (byte)170 },
            { '᮫', (byte)171 },
            { 'ᮬ', (byte)172 },
            { 'ᮭ', (byte)173 },
            { 'ᮮ', (byte)174 },
            { 'ᮯ', (byte)175 },
            { '᮰', (byte)176 },
            { '᮱', (byte)177 },
            { '᮲', (byte)178 },
            { '᮳', (byte)179 },
            { '᮴', (byte)180 },
            { '᮵', (byte)181 },
            { '᮶', (byte)182 },
            { '᮷', (byte)183 },
            { '᮸', (byte)184 },
            { '᮹', (byte)185 },
            { 'ᮺ', (byte)186 },
            { 'ᮻ', (byte)187 },
            { 'ᮼ', (byte)188 },
            { 'ᮽ', (byte)189 },
            { 'ᮾ', (byte)190 },
            { 'ᮿ', (byte)191 },
            { 'ᯀ', (byte)192 },
            { 'ᯁ', (byte)193 },
            { 'ᯂ', (byte)194 },
            { 'ᯃ', (byte)195 },
            { 'ᯄ', (byte)196 },
            { 'ᯅ', (byte)197 },
            { 'ᯆ', (byte)198 },
            { 'ᯇ', (byte)199 },
            { 'ᯈ', (byte)200 },
            { 'ᯉ', (byte)201 },
            { 'ᯊ', (byte)202 },
            { 'ᯋ', (byte)203 },
            { 'ᯌ', (byte)204 },
            { 'ᯍ', (byte)205 },
            { 'ᯎ', (byte)206 },
            { 'ᯏ', (byte)207 },
            { 'ᯐ', (byte)208 },
            { 'ᯑ', (byte)209 },
            { 'ᯒ', (byte)210 },
            { 'ᯓ', (byte)211 },
            { 'ᯔ', (byte)212 },
            { 'ᯕ', (byte)213 },
            { 'ᯖ', (byte)214 },
            { 'ᯗ', (byte)215 },
            { 'ᯘ', (byte)216 },
            { 'ᯙ', (byte)217 },
            { 'ᯚ', (byte)218 },
            { 'ᯛ', (byte)219 },
            { 'ᯜ', (byte)220 },
            { 'ᯝ', (byte)221 },
            { 'ᯞ', (byte)222 },
            { 'ᯟ', (byte)223 },
            { 'ᯠ', (byte)224 },
            { 'ᯡ', (byte)225 },
            { 'ᯢ', (byte)226 },
            { 'ᯣ', (byte)227 },
            { 'ᯤ', (byte)228 },
            { 'ᯥ', (byte)229 },
            { '᯦', (byte)230 },
            { 'ᯧ', (byte)231 },
            { 'ᯨ', (byte)232 },
            { 'ᯩ', (byte)233 },
            { 'ᯪ', (byte)234 },
            { 'ᯫ', (byte)235 },
            { 'ᯬ', (byte)236 },
            { 'ᯭ', (byte)237 },
            { 'ᯮ', (byte)238 },
            { 'ᯯ', (byte)239 },
            { 'ᯰ', (byte)240 },
            { 'ᯱ', (byte)241 },
            { '᯲', (byte)242 },
            { '᯳', (byte)243 },
            { '᯴', (byte)244 },
            { '᯵', (byte)245 },
            { '᯶', (byte)246 },
            { '᯷', (byte)247 },
            { '᯸', (byte)248 },
            { '᯹', (byte)249 },
            { '᯺', (byte)250 },
            { '᯻', (byte)251 },
            { '᯼', (byte)252 },
            { '᯽', (byte)253 },
            { '᯾', (byte)254 },
            { '᯿', (byte)255 }
        };

        public static string Serialize(byte[] array)
        {
            /*
            string s = "";
            Stopwatch sw = new Stopwatch();
            sw.Start();
            foreach (byte b in array)
                try
                {
                    s += ByteCharMap[b];
                }
                catch(Exception e)
                {
                    Console.WriteLine(e.Message);
                }
            sw.Stop();
            Console.WriteLine($"ByteSerializer.Serialize time elapsed: {sw.ElapsedMilliseconds}ms");
            return s;
            */
            return Convert.ToBase64String(array);
        }

        public static byte[] Deserialize(string s)
        {
            /*
            List<byte> bytesList = new List<byte>();
            Stopwatch sw = new Stopwatch();
            sw.Start();
            foreach (char c in s.ToCharArray())
            {
                bytesList.Add(CharByteMap[c]);
            }
            sw.Stop();
            Console.WriteLine($"ByteSerializer.Deserialize time elapsed: {sw.ElapsedMilliseconds}ms");
            return bytesList.ToArray();
            */
            return Convert.FromBase64String(s);
        }
    }
}
